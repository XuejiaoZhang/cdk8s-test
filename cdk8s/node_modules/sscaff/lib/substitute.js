"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function substitute(s, variables = {}) {
    // '': '' is an empty substitution
    for (const [key, value] of Object.entries({ ...variables, '': '' })) {
        s = s.replace(new RegExp(`{{ *${escapeRegExp(key)} *}}`, 'g'), value);
    }
    return s;
}
exports.substitute = substitute;
// https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex
function escapeRegExp(s) {
    return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); // $& means the whole matched string
}
