"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const import_1 = require("../../lib/import");
const DEFAULT_API_VERSION = '1.14.0';
class Command {
    constructor() {
        this.command = 'generate';
        this.describe = 'Generates typed constructs for Kubernetes API objects';
        this.aliases = ['gen', 'import'];
        this.builder = (args) => args
            .option('api', { type: 'string', desc: 'Kubernetes API version', default: DEFAULT_API_VERSION })
            .option('output', { type: 'string', desc: 'output directory', default: '.gen', alias: 'o' });
    }
    async handler(argv) {
        await import_1.generateAllApiObjects(argv.output, { apiVersion: argv.api });
    }
}
module.exports = new Command();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2VuZXJhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJnZW5lcmF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDZDQUF5RDtBQUV6RCxNQUFNLG1CQUFtQixHQUFHLFFBQVEsQ0FBQztBQUVyQyxNQUFNLE9BQU87SUFBYjtRQUNrQixZQUFPLEdBQUcsVUFBVSxDQUFDO1FBQ3JCLGFBQVEsR0FBRyx1REFBdUQsQ0FBQztRQUNuRSxZQUFPLEdBQUcsQ0FBRSxLQUFLLEVBQUUsUUFBUSxDQUFFLENBQUM7UUFFOUIsWUFBTyxHQUFHLENBQUMsSUFBZ0IsRUFBRSxFQUFFLENBQUMsSUFBSTthQUNqRCxNQUFNLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxJQUFJLEVBQUUsd0JBQXdCLEVBQUUsT0FBTyxFQUFFLG1CQUFtQixFQUFFLENBQUM7YUFDL0YsTUFBTSxDQUFDLFFBQVEsRUFBRSxFQUFFLElBQUksRUFBRSxRQUFvQixFQUFFLElBQUksRUFBRSxrQkFBa0IsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBSzdHLENBQUM7SUFIUSxLQUFLLENBQUMsT0FBTyxDQUFDLElBQVM7UUFDNUIsTUFBTSw4QkFBcUIsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsVUFBVSxFQUFFLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDO0lBQ3JFLENBQUM7Q0FDRjtBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUcsSUFBSSxPQUFPLEVBQUUsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIHlhcmdzIGZyb20gJ3lhcmdzJztcbmltcG9ydCB7IGdlbmVyYXRlQWxsQXBpT2JqZWN0cyB9IGZyb20gJy4uLy4uL2xpYi9pbXBvcnQnO1xuXG5jb25zdCBERUZBVUxUX0FQSV9WRVJTSU9OID0gJzEuMTQuMCc7XG5cbmNsYXNzIENvbW1hbmQgaW1wbGVtZW50cyB5YXJncy5Db21tYW5kTW9kdWxlIHtcbiAgcHVibGljIHJlYWRvbmx5IGNvbW1hbmQgPSAnZ2VuZXJhdGUnO1xuICBwdWJsaWMgcmVhZG9ubHkgZGVzY3JpYmUgPSAnR2VuZXJhdGVzIHR5cGVkIGNvbnN0cnVjdHMgZm9yIEt1YmVybmV0ZXMgQVBJIG9iamVjdHMnO1xuICBwdWJsaWMgcmVhZG9ubHkgYWxpYXNlcyA9IFsgJ2dlbicsICdpbXBvcnQnIF07XG5cbiAgcHVibGljIHJlYWRvbmx5IGJ1aWxkZXIgPSAoYXJnczogeWFyZ3MuQXJndikgPT4gYXJnc1xuICAgIC5vcHRpb24oJ2FwaScsIHsgdHlwZTogJ3N0cmluZycsIGRlc2M6ICdLdWJlcm5ldGVzIEFQSSB2ZXJzaW9uJywgZGVmYXVsdDogREVGQVVMVF9BUElfVkVSU0lPTiB9KVxuICAgIC5vcHRpb24oJ291dHB1dCcsIHsgdHlwZTogJ3N0cmluZycgYXMgJ3N0cmluZycsIGRlc2M6ICdvdXRwdXQgZGlyZWN0b3J5JywgZGVmYXVsdDogJy5nZW4nLCBhbGlhczogJ28nIH0pO1xuXG4gIHB1YmxpYyBhc3luYyBoYW5kbGVyKGFyZ3Y6IGFueSkge1xuICAgIGF3YWl0IGdlbmVyYXRlQWxsQXBpT2JqZWN0cyhhcmd2Lm91dHB1dCwgeyBhcGlWZXJzaW9uOiBhcmd2LmFwaSB9KTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBDb21tYW5kKCk7XG4iXX0=